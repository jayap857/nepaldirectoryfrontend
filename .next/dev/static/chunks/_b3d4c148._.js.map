{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// Create Axios instance\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL || \"http://localhost:8000/api\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n  timeout: 15000, // Add timeout\r\n});\r\n\r\n// Add a request interceptor to attach JWT token if available\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    if (typeof window !== \"undefined\") {\r\n      const token = localStorage.getItem(\r\n        process.env.NEXT_PUBLIC_JWT_STORAGE_KEY || \"access_token\"\r\n      );\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor to handle errors\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    return response;\r\n  },\r\n  (error) => {\r\n    // Log detailed error info, handle empty or non-Axios errors\r\n    if (error && (error.config || error.response || error.request)) {\r\n      // Log key error properties directly for better visibility\r\n      console.error(\"API Interceptor Error:\", {\r\n        url: error.config?.url,\r\n        method: error.config?.method,\r\n        hasResponse: !!error.response,\r\n        hasRequest: !!error.request,\r\n        message: error.message,\r\n        status: error.response?.status,\r\n        data: error.response?.data\r\n      });\r\n      // Log the error object itself for deep inspection\r\n      console.error(\"API Interceptor Error (object):\", error);\r\n      // Log error as string if available\r\n      if (typeof error.toString === 'function') {\r\n        console.error(\"API Interceptor Error (toString):\", error.toString());\r\n      }\r\n      // Log error stack if available\r\n      if (error.stack) {\r\n        console.error(\"API Interceptor Error (stack):\", error.stack);\r\n      }\r\n    } else {\r\n      // Handle unexpected error shapes\r\n      console.error(\"API Interceptor Error: Unknown error format\", error);\r\n      if (typeof error?.toString === 'function') {\r\n        console.error(\"API Interceptor Error (toString):\", error.toString());\r\n      }\r\n      if (error?.stack) {\r\n        console.error(\"API Interceptor Error (stack):\", error.stack);\r\n      }\r\n    }\r\n\r\n    if (error.response) {\r\n      // The request was made and the server responded with a status code\r\n      // that falls out of the range of 2xx\r\n      console.error(\"API Error Response:\", error.response.status, error.response.data);\r\n      \r\n      // Pass through the error response data\r\n      return Promise.reject(error);\r\n    } else if (error.request) {\r\n      // The request was made but no response was received\r\n      console.error(\"Network Error - No Response:\", error.message);\r\n      \r\n      // Create a structured error for network failures\r\n      const networkError = new Error(\"Cannot connect to server\");\r\n      networkError.isNetworkError = true;\r\n      networkError.originalError = error;\r\n      return Promise.reject(networkError);\r\n    } else {\r\n      // Something happened in setting up the request that triggered an Error\r\n      console.error(\"Request Setup Error:\", error.message);\r\n      return Promise.reject(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport default api;"],"names":[],"mappings":";;;;AAIW;AAJX;;AAEA,wBAAwB;AACxB,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS,mFAAwC;IACjD,SAAS;QACP,gBAAgB;IAClB;IACA,SAAS;AACX;AAEA,6DAA6D;AAC7D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,wCAAmC;QACjC,MAAM,QAAQ,aAAa,OAAO,CAChC,oDAA2C;QAE7C,IAAI,OAAO;YACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;QAClD;IACF;IACA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,8CAA8C;AAC9C,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC;IACC,OAAO;AACT,GACA,CAAC;IACC,4DAA4D;IAC5D,IAAI,SAAS,CAAC,MAAM,MAAM,IAAI,MAAM,QAAQ,IAAI,MAAM,OAAO,GAAG;QAC9D,0DAA0D;QAC1D,QAAQ,KAAK,CAAC,0BAA0B;YACtC,KAAK,MAAM,MAAM,EAAE;YACnB,QAAQ,MAAM,MAAM,EAAE;YACtB,aAAa,CAAC,CAAC,MAAM,QAAQ;YAC7B,YAAY,CAAC,CAAC,MAAM,OAAO;YAC3B,SAAS,MAAM,OAAO;YACtB,QAAQ,MAAM,QAAQ,EAAE;YACxB,MAAM,MAAM,QAAQ,EAAE;QACxB;QACA,kDAAkD;QAClD,QAAQ,KAAK,CAAC,mCAAmC;QACjD,mCAAmC;QACnC,IAAI,OAAO,MAAM,QAAQ,KAAK,YAAY;YACxC,QAAQ,KAAK,CAAC,qCAAqC,MAAM,QAAQ;QACnE;QACA,+BAA+B;QAC/B,IAAI,MAAM,KAAK,EAAE;YACf,QAAQ,KAAK,CAAC,kCAAkC,MAAM,KAAK;QAC7D;IACF,OAAO;QACL,iCAAiC;QACjC,QAAQ,KAAK,CAAC,+CAA+C;QAC7D,IAAI,OAAO,OAAO,aAAa,YAAY;YACzC,QAAQ,KAAK,CAAC,qCAAqC,MAAM,QAAQ;QACnE;QACA,IAAI,OAAO,OAAO;YAChB,QAAQ,KAAK,CAAC,kCAAkC,MAAM,KAAK;QAC7D;IACF;IAEA,IAAI,MAAM,QAAQ,EAAE;QAClB,mEAAmE;QACnE,qCAAqC;QACrC,QAAQ,KAAK,CAAC,uBAAuB,MAAM,QAAQ,CAAC,MAAM,EAAE,MAAM,QAAQ,CAAC,IAAI;QAE/E,uCAAuC;QACvC,OAAO,QAAQ,MAAM,CAAC;IACxB,OAAO,IAAI,MAAM,OAAO,EAAE;QACxB,oDAAoD;QACpD,QAAQ,KAAK,CAAC,gCAAgC,MAAM,OAAO;QAE3D,iDAAiD;QACjD,MAAM,eAAe,IAAI,MAAM;QAC/B,aAAa,cAAc,GAAG;QAC9B,aAAa,aAAa,GAAG;QAC7B,OAAO,QAAQ,MAAM,CAAC;IACxB,OAAO;QACL,uEAAuE;QACvE,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;QACnD,OAAO,QAAQ,MAAM,CAAC;IACxB;AACF;uCAGa","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/services/authService.js"],"sourcesContent":["import api from \"./api\";\r\n\r\n// Login function - Uses Django JWT /api/token/\r\nconst login = async (email, password) => {\r\n  try {\r\n    const response = await api.post(\"/token/\", { \r\n      username: email,\r\n      password \r\n    });\r\n    \r\n    return {\r\n      token: response.data.access,\r\n      refresh: response.data.refresh\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Login service error:\", error);\r\n    throw error.response?.data || { message: error.message || \"Login failed\" };\r\n  }\r\n};\r\n\r\n// Signup function\r\nconst signup = async (signupData) => {\r\n  try {\r\n    const payload = {\r\n      username: signupData.username,\r\n      email: signupData.email,\r\n      password: signupData.password,\r\n      password_confirm: signupData.password_confirm,\r\n    };\r\n\r\n    if (signupData.phone_number) {\r\n      payload.phone_number = signupData.phone_number;\r\n    }\r\n\r\n    console.log(\"ðŸ“¤ Sending signup request:\", { ...payload, password: \"[HIDDEN]\", password_confirm: \"[HIDDEN]\" });\r\n\r\n    const response = await api.post(\"/register/\", payload);\r\n    \r\n    console.log(\"âœ… Signup successful:\", response.data);\r\n    return response.data;\r\n    \r\n  } catch (error) {\r\n    console.error(\"âŒ Signup service error:\", {\r\n      isNetworkError: error.isNetworkError,\r\n      message: error.message,\r\n      hasResponse: !!error.response,\r\n      status: error.response?.status,\r\n      data: error.response?.data,\r\n    });\r\n    \r\n    // Handle network errors specifically\r\n    if (error.isNetworkError) {\r\n      throw { \r\n        message: \"Cannot connect to server. Is your Django backend running on http://localhost:8000?\",\r\n        detail: error.message\r\n      };\r\n    }\r\n    \r\n    // Handle HTTP errors\r\n    if (error.response) {\r\n      throw error.response.data || { message: \"Signup failed\" };\r\n    }\r\n    \r\n    // Handle other errors\r\n    throw { message: error.message || \"An unexpected error occurred\" };\r\n  }\r\n};\r\n\r\n// Get user profile\r\nconst getProfile = async () => {\r\n  try {\r\n    const response = await api.get(\"/profile/\");\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Profile fetch error:\", error);\r\n    \r\n    if (error.isNetworkError) {\r\n      throw { message: \"Cannot connect to server\" };\r\n    }\r\n    \r\n    throw error.response?.data || { message: \"Failed to fetch profile\" };\r\n  }\r\n};\r\n\r\n// Get user dashboard data\r\nconst getDashboard = async () => {\r\n  try {\r\n    const response = await api.get(\"/dashboard/\");\r\n    return response.data;\r\n  } catch (error) {\r\n    if (error.isNetworkError) {\r\n      throw { message: \"Cannot connect to server\" };\r\n    }\r\n    \r\n    throw error.response?.data || { message: \"Failed to fetch dashboard\" };\r\n  }\r\n};\r\n\r\n// Refresh token\r\nconst refreshToken = async () => {\r\n  try {\r\n    const refresh = localStorage.getItem(\r\n      process.env.NEXT_PUBLIC_JWT_REFRESH_KEY || \"refresh_token\"\r\n    );\r\n    \r\n    if (!refresh) {\r\n      throw new Error(\"No refresh token available\");\r\n    }\r\n\r\n    const response = await api.post(\"/token/refresh/\", { refresh });\r\n    const newAccessToken = response.data.access;\r\n    \r\n    localStorage.setItem(\r\n      process.env.NEXT_PUBLIC_JWT_STORAGE_KEY || \"access_token\",\r\n      newAccessToken\r\n    );\r\n    \r\n    return newAccessToken;\r\n  } catch (error) {\r\n    logout();\r\n    \r\n    if (error.isNetworkError) {\r\n      throw { message: \"Cannot connect to server\" };\r\n    }\r\n    \r\n    throw error.response?.data || { message: \"Session expired\" };\r\n  }\r\n};\r\n\r\n// Logout\r\nconst logout = () => {\r\n  localStorage.removeItem(process.env.NEXT_PUBLIC_JWT_STORAGE_KEY || \"access_token\");\r\n  localStorage.removeItem(process.env.NEXT_PUBLIC_JWT_REFRESH_KEY || \"refresh_token\");\r\n};\r\n\r\nexport default {\r\n  login,\r\n  signup,\r\n  getProfile,\r\n  getDashboard,\r\n  refreshToken,\r\n  logout,\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 245, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/contexts/AuthContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { createContext, useState, useEffect, ReactNode } from \"react\";\r\nimport authService from \"../services/authService\";\r\n\r\ninterface User {\r\n  id: number;\r\n  username: string;\r\n  email: string;\r\n  phone_number?: string;\r\n  profile_picture?: string;\r\n  is_business_owner: boolean;\r\n  is_customer: boolean;\r\n  is_staff?: boolean;\r\n  is_superuser?: boolean;\r\n  date_joined: string;\r\n  review_count: number;\r\n  business_count: number;\r\n}\r\n\r\nexport interface AuthContextType {\r\n  user: User | null;\r\n  isAuthenticated: boolean;\r\n  isAdmin: boolean;\r\n  login: (email: string, password: string) => Promise<{ success: boolean; message?: string }>;\r\n  logout: () => void;\r\n  signup: (userData: any) => Promise<{ success: boolean; message?: string }>;\r\n  loading: boolean;\r\n}\r\n\r\n// Create context with default values\r\nexport const AuthContext = createContext<AuthContextType>({\r\n  user: null,\r\n  isAuthenticated: false,\r\n  isAdmin: false,\r\n  login: async () => ({ success: false }),\r\n  logout: () => {},\r\n  signup: async () => ({ success: false }),\r\n  loading: true,\r\n});\r\n\r\ninterface AuthProviderProps {\r\n  children: ReactNode;\r\n}\r\n\r\n// Context provider\r\nexport const AuthProvider = ({ children }: AuthProviderProps) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [isAdmin, setIsAdmin] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Load user on app start\r\n  useEffect(() => {\r\n    checkAuth();\r\n  }, []);\r\n\r\n  const checkAuth = async () => {\r\n    const token = localStorage.getItem(\r\n      process.env.NEXT_PUBLIC_JWT_STORAGE_KEY || \"access_token\"\r\n    );\r\n    \r\n    if (token) {\r\n      try {\r\n        // Try to fetch user profile with existing token\r\n        const userInfo = await authService.getProfile();\r\n        setUser(userInfo);\r\n        setIsAuthenticated(true);\r\n        setIsAdmin(userInfo.is_staff || userInfo.is_superuser || false);\r\n        console.log(\"User authenticated:\", userInfo);\r\n      } catch (error) {\r\n        console.log(\"Token invalid, trying refresh...\");\r\n        // Try to refresh token\r\n        try {\r\n          await authService.refreshToken();\r\n          // Retry getting profile after refresh\r\n          const userInfo = await authService.getProfile();\r\n          setUser(userInfo);\r\n          setIsAuthenticated(true);\r\n          setIsAdmin(userInfo.is_staff || userInfo.is_superuser || false);\r\n          console.log(\"User authenticated after refresh:\", userInfo);\r\n        } catch (refreshError) {\r\n          console.log(\"Refresh failed, logging out\");\r\n          // If refresh also fails, clear everything\r\n          localStorage.removeItem(process.env.NEXT_PUBLIC_JWT_STORAGE_KEY || \"access_token\");\r\n          localStorage.removeItem(process.env.NEXT_PUBLIC_JWT_REFRESH_KEY || \"refresh_token\");\r\n          setUser(null);\r\n          setIsAuthenticated(false);\r\n          setIsAdmin(false);\r\n        }\r\n      }\r\n    }\r\n    \r\n    setLoading(false);\r\n  };\r\n\r\n  // Login\r\n  const login = async (email: string, password: string) => {\r\n    try {\r\n      console.log(\"Login attempt:\", email);\r\n      const res = await authService.login(email, password);\r\n      const { token, refresh } = res;\r\n      \r\n      console.log(\"Login response:\", { token: token ? \"exists\" : \"missing\", refresh: refresh ? \"exists\" : \"missing\" });\r\n      \r\n      // Store both tokens\r\n      localStorage.setItem(\r\n        process.env.NEXT_PUBLIC_JWT_STORAGE_KEY || \"access_token\",\r\n        token\r\n      );\r\n      localStorage.setItem(\r\n        process.env.NEXT_PUBLIC_JWT_REFRESH_KEY || \"refresh_token\",\r\n        refresh\r\n      );\r\n\r\n      // Fetch user info\r\n      const userInfo = await authService.getProfile();\r\n      console.log(\"User info fetched:\", userInfo);\r\n      \r\n      setUser(userInfo);\r\n      setIsAuthenticated(true);\r\n      setIsAdmin(userInfo.is_staff || userInfo.is_superuser || false);\r\n\r\n      return { success: true };\r\n    } catch (err: any) {\r\n      console.error(\"Login error:\", err);\r\n      return { \r\n        success: false, \r\n        message: err.detail || err.message || \"Login failed\" \r\n      };\r\n    }\r\n  };\r\n\r\n  // Signup\r\n  const signup = async (userData: any) => {\r\n    try {\r\n      console.log(\"Signup attempt:\", userData.username, userData.email);\r\n      const result = await authService.signup(userData);\r\n      console.log(\"Signup successful:\", result);\r\n      return { success: true };\r\n    } catch (err: any) {\r\n      console.error(\"Signup error:\", err);\r\n      \r\n      // Django returns validation errors as objects\r\n      let errorMessage = \"Signup failed\";\r\n      \r\n      if (typeof err === 'object' && err !== null) {\r\n        // Extract first error message\r\n        if (err.username) {\r\n          errorMessage = Array.isArray(err.username) ? err.username[0] : err.username;\r\n        } else if (err.email) {\r\n          errorMessage = Array.isArray(err.email) ? err.email[0] : err.email;\r\n        } else if (err.password) {\r\n          errorMessage = Array.isArray(err.password) ? err.password[0] : err.password;\r\n        } else if (err.password_confirm) {\r\n          errorMessage = Array.isArray(err.password_confirm) ? err.password_confirm[0] : err.password_confirm;\r\n        } else if (err.detail) {\r\n          errorMessage = err.detail;\r\n        } else {\r\n          // Get first error from any field\r\n          const firstError = Object.values(err)[0];\r\n          if (Array.isArray(firstError)) {\r\n            errorMessage = firstError[0];\r\n          } else if (typeof firstError === 'string') {\r\n            errorMessage = firstError;\r\n          }\r\n        }\r\n      } else if (err.message) {\r\n        errorMessage = err.message;\r\n      }\r\n      \r\n      return { success: false, message: errorMessage };\r\n    }\r\n  };\r\n\r\n  // Logout\r\n  const logout = () => {\r\n    authService.logout();\r\n    setUser(null);\r\n    setIsAuthenticated(false);\r\n    setIsAdmin(false);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user,\r\n        isAuthenticated,\r\n        isAdmin,\r\n        login,\r\n        logout,\r\n        signup,\r\n        loading,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};"],"names":[],"mappings":";;;;;;AA2DM;;AAzDN;AACA;;;AAHA;;;AA+BO,MAAM,4BAAc,IAAA,8KAAa,EAAkB;IACxD,MAAM;IACN,iBAAiB;IACjB,SAAS;IACT,OAAO,UAAY,CAAC;YAAE,SAAS;QAAM,CAAC;IACtC,QAAQ,KAAO;IACf,QAAQ,UAAY,CAAC;YAAE,SAAS;QAAM,CAAC;IACvC,SAAS;AACX;AAOO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAqB;;IAC1D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yKAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,yBAAyB;IACzB,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG,EAAE;IAEL,MAAM,YAAY;QAChB,MAAM,QAAQ,aAAa,OAAO,CAChC,oDAA2C;QAG7C,IAAI,OAAO;YACT,IAAI;gBACF,gDAAgD;gBAChD,MAAM,WAAW,MAAM,qIAAW,CAAC,UAAU;gBAC7C,QAAQ;gBACR,mBAAmB;gBACnB,WAAW,SAAS,QAAQ,IAAI,SAAS,YAAY,IAAI;gBACzD,QAAQ,GAAG,CAAC,uBAAuB;YACrC,EAAE,OAAO,OAAO;gBACd,QAAQ,GAAG,CAAC;gBACZ,uBAAuB;gBACvB,IAAI;oBACF,MAAM,qIAAW,CAAC,YAAY;oBAC9B,sCAAsC;oBACtC,MAAM,WAAW,MAAM,qIAAW,CAAC,UAAU;oBAC7C,QAAQ;oBACR,mBAAmB;oBACnB,WAAW,SAAS,QAAQ,IAAI,SAAS,YAAY,IAAI;oBACzD,QAAQ,GAAG,CAAC,qCAAqC;gBACnD,EAAE,OAAO,cAAc;oBACrB,QAAQ,GAAG,CAAC;oBACZ,0CAA0C;oBAC1C,aAAa,UAAU,CAAC,oDAA2C;oBACnE,aAAa,UAAU,CAAC,qDAA2C;oBACnE,QAAQ;oBACR,mBAAmB;oBACnB,WAAW;gBACb;YACF;QACF;QAEA,WAAW;IACb;IAEA,QAAQ;IACR,MAAM,QAAQ,OAAO,OAAe;QAClC,IAAI;YACF,QAAQ,GAAG,CAAC,kBAAkB;YAC9B,MAAM,MAAM,MAAM,qIAAW,CAAC,KAAK,CAAC,OAAO;YAC3C,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG;YAE3B,QAAQ,GAAG,CAAC,mBAAmB;gBAAE,OAAO,QAAQ,WAAW;gBAAW,SAAS,UAAU,WAAW;YAAU;YAE9G,oBAAoB;YACpB,aAAa,OAAO,CAClB,oDAA2C,gBAC3C;YAEF,aAAa,OAAO,CAClB,qDAA2C,iBAC3C;YAGF,kBAAkB;YAClB,MAAM,WAAW,MAAM,qIAAW,CAAC,UAAU;YAC7C,QAAQ,GAAG,CAAC,sBAAsB;YAElC,QAAQ;YACR,mBAAmB;YACnB,WAAW,SAAS,QAAQ,IAAI,SAAS,YAAY,IAAI;YAEzD,OAAO;gBAAE,SAAS;YAAK;QACzB,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,gBAAgB;YAC9B,OAAO;gBACL,SAAS;gBACT,SAAS,IAAI,MAAM,IAAI,IAAI,OAAO,IAAI;YACxC;QACF;IACF;IAEA,SAAS;IACT,MAAM,SAAS,OAAO;QACpB,IAAI;YACF,QAAQ,GAAG,CAAC,mBAAmB,SAAS,QAAQ,EAAE,SAAS,KAAK;YAChE,MAAM,SAAS,MAAM,qIAAW,CAAC,MAAM,CAAC;YACxC,QAAQ,GAAG,CAAC,sBAAsB;YAClC,OAAO;gBAAE,SAAS;YAAK;QACzB,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,iBAAiB;YAE/B,8CAA8C;YAC9C,IAAI,eAAe;YAEnB,IAAI,OAAO,QAAQ,YAAY,QAAQ,MAAM;gBAC3C,8BAA8B;gBAC9B,IAAI,IAAI,QAAQ,EAAE;oBAChB,eAAe,MAAM,OAAO,CAAC,IAAI,QAAQ,IAAI,IAAI,QAAQ,CAAC,EAAE,GAAG,IAAI,QAAQ;gBAC7E,OAAO,IAAI,IAAI,KAAK,EAAE;oBACpB,eAAe,MAAM,OAAO,CAAC,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,EAAE,GAAG,IAAI,KAAK;gBACpE,OAAO,IAAI,IAAI,QAAQ,EAAE;oBACvB,eAAe,MAAM,OAAO,CAAC,IAAI,QAAQ,IAAI,IAAI,QAAQ,CAAC,EAAE,GAAG,IAAI,QAAQ;gBAC7E,OAAO,IAAI,IAAI,gBAAgB,EAAE;oBAC/B,eAAe,MAAM,OAAO,CAAC,IAAI,gBAAgB,IAAI,IAAI,gBAAgB,CAAC,EAAE,GAAG,IAAI,gBAAgB;gBACrG,OAAO,IAAI,IAAI,MAAM,EAAE;oBACrB,eAAe,IAAI,MAAM;gBAC3B,OAAO;oBACL,iCAAiC;oBACjC,MAAM,aAAa,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE;oBACxC,IAAI,MAAM,OAAO,CAAC,aAAa;wBAC7B,eAAe,UAAU,CAAC,EAAE;oBAC9B,OAAO,IAAI,OAAO,eAAe,UAAU;wBACzC,eAAe;oBACjB;gBACF;YACF,OAAO,IAAI,IAAI,OAAO,EAAE;gBACtB,eAAe,IAAI,OAAO;YAC5B;YAEA,OAAO;gBAAE,SAAS;gBAAO,SAAS;YAAa;QACjD;IACF;IAEA,SAAS;IACT,MAAM,SAAS;QACb,qIAAW,CAAC,MAAM;QAClB,QAAQ;QACR,mBAAmB;QACnB,WAAW;IACb;IAEA,qBACE,6LAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP;GAxJa;KAAA","debugId":null}},
    {"offset": {"line": 427, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/contexts/ToastContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useState,\r\n  useCallback,\r\n  useId,\r\n} from \"react\";\r\n\r\ninterface Toast {\r\n  id: string;\r\n  type: \"success\" | \"error\" | \"warning\" | \"info\";\r\n  message: string;\r\n}\r\n\r\ninterface ToastContextType {\r\n  showToast: (type: Toast[\"type\"], message: string) => void;\r\n  hideToast: (id: string) => void;\r\n}\r\n\r\nconst ToastContext = createContext<ToastContextType | undefined>(undefined);\r\n\r\nexport const useToast = () => {\r\n  const context = useContext(ToastContext);\r\n  if (!context) {\r\n    throw new Error(\"useToast must be used within ToastProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const ToastProvider: React.FC<{ children: React.ReactNode }> = ({\r\n  children,\r\n}) => {\r\n  const [toasts, setToasts] = useState<Toast[]>([]);\r\n  const id = useId();\r\n\r\n  const showToast = useCallback(\r\n    (type: Toast[\"type\"], message: string) => {\r\n      const toastId = `${id}-${crypto.randomUUID()}`;\r\n      const newToast: Toast = { id: toastId, type, message };\r\n\r\n      setToasts((prev) => [...prev, newToast]);\r\n\r\n      setTimeout(() => {\r\n        hideToast(toastId);\r\n      }, 5000);\r\n    },\r\n    [id]\r\n  );\r\n\r\n  const hideToast = useCallback((id: string) => {\r\n    setToasts((prev) => prev.filter((toast) => toast.id !== id));\r\n  }, []);\r\n\r\n  return (\r\n    <ToastContext.Provider value={{ showToast, hideToast }}>\r\n      {children}\r\n\r\n      {/* Toast Container */}\r\n      <div\r\n        className=\"fixed top-4 right-4 z-50 space-y-2 max-w-md\"\r\n        role=\"region\"\r\n        aria-live=\"polite\"\r\n        aria-label=\"Notifications\"\r\n      >\r\n        {toasts.map((toast) => (\r\n          <div\r\n            key={toast.id}\r\n            role=\"alert\"\r\n            aria-live=\"assertive\"\r\n            className={`p-4 rounded-lg shadow-lg flex items-start gap-3 border animate-in slide-in-from-right-full duration-300 ${\r\n              toast.type === \"success\"\r\n                ? \"bg-green-50 border-green-200\"\r\n                : toast.type === \"error\"\r\n                ? \"bg-red-50 border-red-200\"\r\n                : toast.type === \"warning\"\r\n                ? \"bg-yellow-50 border-yellow-200\"\r\n                : \"bg-blue-50 border-blue-200\"\r\n            }`}\r\n          >\r\n            {/* Icon */}\r\n            <div className=\"flex-shrink-0\">\r\n              {toast.type === \"success\" && (\r\n                <svg\r\n                  className=\"w-6 h-6 text-green-600\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  />\r\n                </svg>\r\n              )}\r\n              {toast.type === \"error\" && (\r\n                <svg\r\n                  className=\"w-6 h-6 text-red-600\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  />\r\n                </svg>\r\n              )}\r\n              {toast.type === \"warning\" && (\r\n                <svg\r\n                  className=\"w-6 h-6 text-yellow-600\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"\r\n                  />\r\n                </svg>\r\n              )}\r\n              {toast.type === \"info\" && (\r\n                <svg\r\n                  className=\"w-6 h-6 text-blue-600\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  stroke=\"currentColor\"\r\n                  aria-hidden=\"true\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  />\r\n                </svg>\r\n              )}\r\n            </div>\r\n\r\n            {/* Message */}\r\n            <div className=\"flex-1\">\r\n              <p\r\n                className={`text-sm font-medium ${\r\n                  toast.type === \"success\"\r\n                    ? \"text-green-800\"\r\n                    : toast.type === \"error\"\r\n                    ? \"text-red-800\"\r\n                    : toast.type === \"warning\"\r\n                    ? \"text-yellow-800\"\r\n                    : \"text-blue-800\"\r\n                }`}\r\n              >\r\n                {toast.message}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Close Button */}\r\n            <button\r\n              onClick={() => hideToast(toast.id)}\r\n              className={`flex-shrink-0 p-1 rounded-full hover:bg-black/10 transition ${\r\n                toast.type === \"success\"\r\n                  ? \"text-green-600\"\r\n                  : toast.type === \"error\"\r\n                  ? \"text-red-600\"\r\n                  : toast.type === \"warning\"\r\n                  ? \"text-yellow-600\"\r\n                  : \"text-blue-600\"\r\n              }`}\r\n              aria-label=\"Close notification\"\r\n            >\r\n              <svg\r\n                className=\"w-4 h-4\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M6 18L18 6M6 6l12 12\"\r\n                />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </ToastContext.Provider>\r\n  );\r\n};"],"names":[],"mappings":"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","debugId":null}}]
}