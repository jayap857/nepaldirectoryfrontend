{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_a71539c9.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_a71539c9-module__T19VSG__className\",\n  \"variable\": \"geist_a71539c9-module__T19VSG__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_a71539c9.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist%22,%22arguments%22:[{%22variable%22:%22--font-geist-sans%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistSans%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist', 'Geist Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,gKAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,gKAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,gKAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_8d43a2aa.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_mono_8d43a2aa-module__8Li5zG__className\",\n  \"variable\": \"geist_mono_8d43a2aa-module__8Li5zG__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_8d43a2aa.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist_Mono%22,%22arguments%22:[{%22variable%22:%22--font-geist-mono%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistMono%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist Mono', 'Geist Mono Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,qKAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,qKAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,qKAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/services/api.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\n// Create Axios instance\r\nconst api = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL, // reads from .env.local\r\n});\r\n\r\n// Add a request interceptor to attach JWT token if available\r\napi.interceptors.request.use((config) => {\r\n  if (typeof window !== \"undefined\") {\r\n    const token = localStorage.getItem(\r\n      process.env.NEXT_PUBLIC_JWT_STORAGE_KEY\r\n    );\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n  }\r\n  return config;\r\n});\r\n\r\nexport default api;\r\n"],"names":[],"mappings":";;;;;;;;;;AAEA,wBAAwB;AACxB,MAAM,MAAM,MAAM,MAAM,CAAC;IACvB,OAAO;AACT;AAEA,6DAA6D;AAC7D,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC5B;;IAQA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/services/authService.js"],"sourcesContent":["import api from \"./api\";\r\n\r\n// Login function - FIXED to use /api/token/\r\nconst login = async (email, password) => {\r\n  try {\r\n    // Django JWT expects 'username' field, but you might use email as username\r\n    // Adjust based on your Django User model (email vs username)\r\n    const response = await api.post(\"/token/\", { \r\n      username: email,  // or email: email if your backend accepts email\r\n      password \r\n    });\r\n    \r\n    // Django JWT returns { access, refresh }\r\n    return {\r\n      token: response.data.access,\r\n      refresh: response.data.refresh\r\n    };\r\n  } catch (error) {\r\n    throw error.response?.data || { message: \"Login failed\" };\r\n  }\r\n};\r\n\r\n// Signup function\r\nconst signup = async (signupData) => {\r\n  try {\r\n    // Backend expects: username, email, password, password_confirm, phone_number (optional)\r\n    const response = await api.post(\"/register/\", {\r\n      username: signupData.username,\r\n      email: signupData.email,\r\n      password: signupData.password,\r\n      password_confirm: signupData.password_confirm,\r\n      phone_number: signupData.phone_number || \"\"\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error.response?.data || { message: \"Signup failed\" };\r\n  }\r\n};\r\n\r\n// Get user profile (JWT automatically attached via interceptor)\r\nconst getProfile = async () => {\r\n  try {\r\n    const response = await api.get(\"/profile/\");\r\n    // Backend returns full UserProfileSerializer\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error.response?.data || { message: \"Failed to fetch profile\" };\r\n  }\r\n};\r\n\r\n// Get user dashboard data\r\nconst getDashboard = async () => {\r\n  try {\r\n    const response = await api.get(\"/dashboard/\");\r\n    return response.data;\r\n  } catch (error) {\r\n    throw error.response?.data || { message: \"Failed to fetch dashboard\" };\r\n  }\r\n};\r\n\r\n// Refresh token\r\nconst refreshToken = async () => {\r\n  try {\r\n    const refresh = localStorage.getItem(\r\n      process.env.NEXT_PUBLIC_JWT_REFRESH_KEY || \"refresh_token\"\r\n    );\r\n    \r\n    if (!refresh) {\r\n      throw new Error(\"No refresh token available\");\r\n    }\r\n\r\n    const response = await api.post(\"/token/refresh/\", { refresh });\r\n    const newAccessToken = response.data.access;\r\n    \r\n    // Update access token in storage\r\n    localStorage.setItem(\r\n      process.env.NEXT_PUBLIC_JWT_STORAGE_KEY,\r\n      newAccessToken\r\n    );\r\n    \r\n    return newAccessToken;\r\n  } catch (error) {\r\n    // If refresh fails, clear tokens and logout\r\n    logout();\r\n    throw error.response?.data || { message: \"Session expired\" };\r\n  }\r\n};\r\n\r\n// Logout\r\nconst logout = () => {\r\n  localStorage.removeItem(process.env.NEXT_PUBLIC_JWT_STORAGE_KEY);\r\n  localStorage.removeItem(process.env.NEXT_PUBLIC_JWT_REFRESH_KEY || \"refresh_token\");\r\n};\r\n\r\nexport default {\r\n  login,\r\n  signup,\r\n  getProfile,\r\n  getDashboard,\r\n  refreshToken,\r\n  logout,\r\n};"],"names":[],"mappings":";;;;AAAA;;AAEA,4CAA4C;AAC5C,MAAM,QAAQ,OAAO,OAAO;IAC1B,IAAI;QACF,2EAA2E;QAC3E,6DAA6D;QAC7D,MAAM,WAAW,MAAM,0HAAG,CAAC,IAAI,CAAC,WAAW;YACzC,UAAU;YACV;QACF;QAEA,yCAAyC;QACzC,OAAO;YACL,OAAO,SAAS,IAAI,CAAC,MAAM;YAC3B,SAAS,SAAS,IAAI,CAAC,OAAO;QAChC;IACF,EAAE,OAAO,OAAO;QACd,MAAM,MAAM,QAAQ,EAAE,QAAQ;YAAE,SAAS;QAAe;IAC1D;AACF;AAEA,kBAAkB;AAClB,MAAM,SAAS,OAAO;IACpB,IAAI;QACF,wFAAwF;QACxF,MAAM,WAAW,MAAM,0HAAG,CAAC,IAAI,CAAC,cAAc;YAC5C,UAAU,WAAW,QAAQ;YAC7B,OAAO,WAAW,KAAK;YACvB,UAAU,WAAW,QAAQ;YAC7B,kBAAkB,WAAW,gBAAgB;YAC7C,cAAc,WAAW,YAAY,IAAI;QAC3C;QACA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM,MAAM,QAAQ,EAAE,QAAQ;YAAE,SAAS;QAAgB;IAC3D;AACF;AAEA,gEAAgE;AAChE,MAAM,aAAa;IACjB,IAAI;QACF,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC;QAC/B,6CAA6C;QAC7C,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM,MAAM,QAAQ,EAAE,QAAQ;YAAE,SAAS;QAA0B;IACrE;AACF;AAEA,0BAA0B;AAC1B,MAAM,eAAe;IACnB,IAAI;QACF,MAAM,WAAW,MAAM,0HAAG,CAAC,GAAG,CAAC;QAC/B,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,MAAM,MAAM,QAAQ,EAAE,QAAQ;YAAE,SAAS;QAA4B;IACvE;AACF;AAEA,gBAAgB;AAChB,MAAM,eAAe;IACnB,IAAI;QACF,MAAM,UAAU,aAAa,OAAO,CAClC,qDAA2C;QAG7C,IAAI,CAAC,SAAS;YACZ,MAAM,IAAI,MAAM;QAClB;QAEA,MAAM,WAAW,MAAM,0HAAG,CAAC,IAAI,CAAC,mBAAmB;YAAE;QAAQ;QAC7D,MAAM,iBAAiB,SAAS,IAAI,CAAC,MAAM;QAE3C,iCAAiC;QACjC,aAAa,OAAO,mDAElB;QAGF,OAAO;IACT,EAAE,OAAO,OAAO;QACd,4CAA4C;QAC5C;QACA,MAAM,MAAM,QAAQ,EAAE,QAAQ;YAAE,SAAS;QAAkB;IAC7D;AACF;AAEA,SAAS;AACT,MAAM,SAAS;IACb,aAAa,UAAU;IACvB,aAAa,UAAU,CAAC,qDAA2C;AACrE;uCAEe;IACb;IACA;IACA;IACA;IACA;IACA;AACF","debugId":null}},
    {"offset": {"line": 191, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/contexts/AuthContext.js"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\nimport authService from \"../services/authService\";\r\n\r\n// Create context\r\nexport const AuthContext = createContext();\r\n\r\n// Context provider\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Load user on app start\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\r\n      process.env.NEXT_PUBLIC_JWT_STORAGE_KEY\r\n    );\r\n    if (token) {\r\n      authService\r\n        .getProfile()\r\n        .then((res) => {\r\n          setUser(res.user || res);\r\n          setIsAuthenticated(true);\r\n        })\r\n        .catch(() => {\r\n          localStorage.removeItem(process.env.NEXT_PUBLIC_JWT_STORAGE_KEY);\r\n          setUser(null);\r\n          setIsAuthenticated(false);\r\n        })\r\n        .finally(() => setLoading(false));\r\n    } else {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // Login\r\n  const login = async (email, password) => {\r\n    try {\r\n      const res = await authService.login(email, password);\r\n      const token = res.token; // Make sure your backend returns { token, user }\r\n      localStorage.setItem(process.env.NEXT_PUBLIC_JWT_STORAGE_KEY, token);\r\n\r\n      // Fetch user info\r\n      const userInfo = await authService.getProfile();\r\n      setUser(userInfo.user || userInfo);\r\n      setIsAuthenticated(true);\r\n\r\n      return { success: true };\r\n    } catch (err) {\r\n      console.error(\"Login error:\", err.message || err);\r\n      return { success: false, message: err.message || \"Login failed\" };\r\n    }\r\n  };\r\n\r\n  // Signup\r\n  const signup = async (userData) => {\r\n    try {\r\n      await authService.signup(userData);\r\n      return { success: true };\r\n    } catch (err) {\r\n      console.error(\"Signup error:\", err.message || err);\r\n      return { success: false, message: err.message || \"Signup failed\" };\r\n    }\r\n  };\r\n\r\n  // Logout\r\n  const logout = () => {\r\n    authService.logout();\r\n    setUser(null);\r\n    setIsAuthenticated(false);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user,\r\n        isAuthenticated,\r\n        login,\r\n        logout,\r\n        signup,\r\n        loading,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;;;;AAGO,MAAM,4BAAc,IAAA,sNAAa;AAGjC,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,yBAAyB;IACzB,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,aAAa,OAAO;QAGlC,IAAI,OAAO;YACT,kIAAW,CACR,UAAU,GACV,IAAI,CAAC,CAAC;gBACL,QAAQ,IAAI,IAAI,IAAI;gBACpB,mBAAmB;YACrB,GACC,KAAK,CAAC;gBACL,aAAa,UAAU;gBACvB,QAAQ;gBACR,mBAAmB;YACrB,GACC,OAAO,CAAC,IAAM,WAAW;QAC9B,OAAO;YACL,WAAW;QACb;IACF,GAAG,EAAE;IAEL,QAAQ;IACR,MAAM,QAAQ,OAAO,OAAO;QAC1B,IAAI;YACF,MAAM,MAAM,MAAM,kIAAW,CAAC,KAAK,CAAC,OAAO;YAC3C,MAAM,QAAQ,IAAI,KAAK,EAAE,iDAAiD;YAC1E,aAAa,OAAO,mDAA0C;YAE9D,kBAAkB;YAClB,MAAM,WAAW,MAAM,kIAAW,CAAC,UAAU;YAC7C,QAAQ,SAAS,IAAI,IAAI;YACzB,mBAAmB;YAEnB,OAAO;gBAAE,SAAS;YAAK;QACzB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,gBAAgB,IAAI,OAAO,IAAI;YAC7C,OAAO;gBAAE,SAAS;gBAAO,SAAS,IAAI,OAAO,IAAI;YAAe;QAClE;IACF;IAEA,SAAS;IACT,MAAM,SAAS,OAAO;QACpB,IAAI;YACF,MAAM,kIAAW,CAAC,MAAM,CAAC;YACzB,OAAO;gBAAE,SAAS;YAAK;QACzB,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,iBAAiB,IAAI,OAAO,IAAI;YAC9C,OAAO;gBAAE,SAAS;gBAAO,SAAS,IAAI,OAAO,IAAI;YAAgB;QACnE;IACF;IAEA,SAAS;IACT,MAAM,SAAS;QACb,kIAAW,CAAC,MAAM;QAClB,QAAQ;QACR,mBAAmB;IACrB;IAEA,qBACE,8OAAC,YAAY,QAAQ;QACnB,OAAO;YACL;YACA;YACA;YACA;YACA;YACA;QACF;kBAEC;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/app/layout.tsx"],"sourcesContent":["import type { Metadata } from \"next\";\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport \"./globals.css\";\nimport { AuthProvider } from \"../contexts/AuthContext\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata: Metadata = {\n  title: \"Nepal Directory\",\n  description: \"Directory app for Nepal\",\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n      >\n        <AuthProvider>{children}</AuthProvider>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAGA;;;;;;AAYO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;AACf;AAEe,SAAS,WAAW,EACjC,QAAQ,EAGR;IACA,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC;YACC,WAAW,GAAG,oJAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,yJAAS,CAAC,QAAQ,CAAC,YAAY,CAAC;sBAEpE,cAAA,8OAAC,uIAAY;0BAAE;;;;;;;;;;;;;;;;AAIvB","debugId":null}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/acer/OneDrive/Desktop/nepaldirectoryfrontend/node_modules/next/src/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-rsc']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}}]
}